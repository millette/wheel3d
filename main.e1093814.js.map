{"version":3,"sources":["main.js"],"names":["colors","$body","document","querySelector","carousel","root","figure","images","children","n","length","gap","dataset","theta","Math","PI","currImage","setupCarousel","s","apothem","tan","style","transformOrigin","i","padding","backgroundColor","innerText","transform","backfaceVisibility","rotateCarousel","imageIndex","console","log","diff","addEventListener","ev","index2","Array","prototype","indexOf","call","target","parseFloat","getComputedStyle","width","window","carousels","querySelectorAll"],"mappings":";AAAA,IAAMA,EAAS,CAAC,MAAO,QAAS,OAAQ,OAAQ,SAAU,QAAS,UAE7DC,EAAQC,SAASC,cAAc,QAUrC,SAASC,EAASC,GAEhBC,IAAAA,EAASD,EAAKF,cAAc,UAC5BI,EAASD,EAAOE,SAChBC,EAAIF,EAAOG,OACXC,EAAMN,EAAKO,QAAQD,KAAO,GAE1BE,EAAS,EAAIC,KAAKC,GAAMN,EACxBO,EAAY,EAcJC,SAAAA,EAAcR,EAAGS,GACrBC,IAAAA,EAAUD,GAAK,EAAIJ,KAAKM,IAAIN,KAAKC,GAAMN,IAE3CH,EAAOe,MAAMC,gBAA6B,WAAA,QAAEH,EAA5C,MAEK,IAAA,IAAII,EAAI,EAAGA,EAAId,EAAGc,IACnBhB,EAAOgB,GAAGF,MAAMG,QAAab,GAAAA,OAAAA,EAA7B,MACAJ,EAAOgB,GAAGF,MAAMI,gBAAkBzB,EAAOuB,EAAIvB,EAAOU,QACpDH,EAAOgB,GAAGG,UAAgBH,IAAAA,OAAAA,GAEzBA,IAAAA,EAAI,EAAGA,EAAId,EAAGc,IAClBhB,EAAOgB,GAAGF,MAAMC,gBAA6B,WAAA,QAAEH,EAA/C,MACAZ,EAAOgB,GAAGF,MAAMM,UAAuBJ,WAAAA,OAAAA,EAAIV,EAA3C,QAGMU,IAAAA,EAAI,EAAGA,EAAId,EAAGc,IACfhB,EAAOgB,GAAGF,MAAMO,mBAAqB,SAE3CC,EAAeb,GAGPa,SAAAA,EAAeC,GACrBC,QAAQC,IAAI,aAAcF,EAAYA,GAAcjB,GACpDkB,QAAQC,IAAI,YAAahB,EAAWA,GAAaH,GAC3CoB,IAAAA,EAAOjB,EAAYc,EACzBC,QAAQC,IAAI,OAAQC,EAAO,EAAIA,EAAO,GAAKA,GAC3CjB,EAAYc,EAEdxB,EAAOe,MAAMM,UAAuBG,WAAAA,OAAAA,GAAcjB,EAAlD,QAxCAP,EAAO4B,iBAAiB,QAAS,SAACC,GAC1BC,IAAAA,EAASC,MAAMC,UAAUC,QAAQC,KAAKlC,EAAOE,SAAU2B,EAAGM,SAChD,IAAZL,IACJnC,EAAMoB,MAAMI,gBAAkBlB,EAAO6B,GAAQf,MAAMI,gBACnDI,EAAeO,MAGlBnB,EAAcR,EAAGiC,WAAWC,iBAAiBpC,EAAO,IAAIqC,QACxDC,OAAOX,iBAAiB,SAAU,WACjCjB,EAAcR,EAAGiC,WAAWC,iBAAiBpC,EAAO,IAAIqC,UA3B1DC,OAAOX,iBAAiB,OAAQ,WAG1B,IAFDY,IAAAA,EAAY5C,SAAS6C,iBAAiB,aAEjCxB,EAAI,EAAGA,EAAIuB,EAAUpC,OAAQa,IACrCnB,EAAS0C,EAAUvB","file":"main.e1093814.js","sourceRoot":"..","sourcesContent":["const colors = [\"red\", \"green\", \"blue\", \"pink\", \"yellow\", \"black\", \"purple\"]\n\nconst $body = document.querySelector('body');\n\nwindow.addEventListener('load', () => {\n\tvar carousels = document.querySelectorAll('.carousel');\n\n\tfor (var i = 0; i < carousels.length; i++) {\n\t\tcarousel(carousels[i]);\n\t}\n});\n\nfunction carousel(root) {\n\tvar\n\t\tfigure = root.querySelector('figure'),\n\t\timages = figure.children,\n\t\tn = images.length,\n\t\tgap = root.dataset.gap || 10,\n\n\t\ttheta =  2 * Math.PI / (n),\n\t\tcurrImage = 0;\n\n  figure.addEventListener(\"click\", (ev) => {\n    const index2 = Array.prototype.indexOf.call(figure.children, ev.target)\n    if (index2 === -1) return\n    $body.style.backgroundColor = images[index2].style.backgroundColor\n    rotateCarousel(index2)\n  })\n\n\tsetupCarousel(n, parseFloat(getComputedStyle(images[0]).width));\n\twindow.addEventListener('resize', () => {\n\t\tsetupCarousel(n, parseFloat(getComputedStyle(images[0]).width))\n\t});\n\n\tfunction setupCarousel(n, s) {\n\t\tvar apothem = s / (2 * Math.tan(Math.PI / (n)));\n\n\t\tfigure.style.transformOrigin = `50% 50% ${- apothem}px`;\n\n\t\tfor (var i = 0; i < n; i++) {\n      images[i].style.padding = `${gap}px`;\n      images[i].style.backgroundColor = colors[i % colors.length]\n      images[i].innerText = `#${i}`\n    }\n\t\tfor (i = 1; i < n; i++) {\n\t\t\timages[i].style.transformOrigin = `50% 50% ${- apothem}px`;\n\t\t\timages[i].style.transform = `rotateY(${i * theta}rad)`;\n    }\n\n    for (i = 0; i < n; i++)\n        images[i].style.backfaceVisibility = 'hidden';\n\n\t\trotateCarousel(currImage);\n\t}\n\n\tfunction rotateCarousel(imageIndex) {\n    console.log(\"imageIndex\", imageIndex, imageIndex * -theta)\n    console.log(\"currImage\", currImage, currImage * -theta)\n    const diff = currImage - imageIndex\n    console.log(\"diff\", diff < 0 ? diff + 45 : diff)\n    currImage = imageIndex\n\n\t\tfigure.style.transform = `rotateY(${imageIndex * -theta}rad)`;\n\t}\n\n}\n"]}